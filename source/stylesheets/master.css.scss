$url: '../images';

@font-face{
	font-family: ABeeZee-Regular;
	src: url('ABeeZee-Regular.ttf');
}

@font-face{
	font-family: ABeeZee-Italic;
	src: url('ABeeZee-Italic.ttf');
}

@media only screen and (max-width: 600px), only screen and (max-height: 400px){
	body{
		font-size: 100% !important;
	}
}

// --- ENVIRONMENT ---
*{
	-webkit-tap-highlight-color: rgba(255, 255, 255, 0);
}

body{
	width: 100%;
	height: 100%;
	overflow: hidden;
	margin: 0;
	padding: 0;
	font-family: ABeeZee-Regular, "Lucida Grande", "Trebuchet MS", Verdana, sans-serif;
	font-size: 140%;
	
	&.fisherman #setting{
		z-index: 0;
		background-image: url(#{$url}/fisherman/background.jpg);
		background-size: 100%;
		width: 100%;
		overflow: auto;
		background-position: top center;
		background-repeat: repeat;
		position: relative;
		top: 0;
		margin: 0;
		padding: 0;
	}
	
	&.fisherman #character{
		z-index: 100;
		background-image: url(#{$url}/fisherman/character.png);
		background-repeat: no-repeat;
		background-position: center center;
		background-size: contain;
		height: 50%;
		position: fixed;
		top: 20%;
		width: 100%;
		display: block;
	}
}

.screen{
	width: 100%;
	position: relative;
	overflow: hidden;
	
	.future{
		$width_0: 475;
		$height_0: 174;
		$width: 40%;
		background-image: url(#{$url}/fisherman/clock.png);
		background-size: contain;
		background-repeat: no-repeat;
		background-position: bottom center;
		width: $width;
		height: $width*$height_0/$width_0;
		padding-top: 5%;
		padding-left: 7%;
		z-index: 500;
		position: absolute;
		right: 10%;
		bottom: -100%;
		-webkit-transition: bottom 1s;
		vertical-align: bottom;
		text-align: center;
		font-size: 2em;
		color: white;
		
		&.show{
			bottom: 0;
		}
	}
}

// --- UNDERWATER ---
.underwater.screen{
	background-image: url(#{$url}/fisherman/background_underwater.png);
	background-size: cover;
	background-position: top;
}


// --- ELEMENT DESIGN ---
.question, #consequence p{
	// cute box design
	background-color: white;
	border: 1px solid #E2E2E2;
	padding: .5em;
	margin: 0 auto;	
	font-size: .9em;
}



 // --- HEADER ---
.question{
	display: table;
	table-layout: fixed;
	position: relative;
	width: 30em;
	top: 5%;
}

#score{
	background-color: rgba(255, 255, 255, .5);
	position: absolute;
	right: 0px;
	top: 0px;
	margin: 0;
	display: table;
	width: 8%;
	font-size: 1.5em;
	text-align: center;
	padding: .5em;
	z-index: 500;
}


 // --- FOOTER ---

footer{
	background-image: url(#{$url}/fisherman/sea_of_choices.png);
	background-repeat: no-repeat;
	background-size: 100%;
	background-position: top left;	
	display: block;
	height: auto;
	width: 100%;
	position: absolute;
	bottom: 0;
}

.choices{
	background-image: url(#{$url}/fisherman/sea_of_choices.png);
	background-repeat: no-repeat;
	background-size: cover;
	background-position: top left;
	width: 75%;
	padding-left: 25%;
	padding-top: 5%;
	padding-bottom: 5%;
	position: absolute;
	bottom: 0;
	left: 0;
	
	.choice{
		display: table-cell;
		width: 2%; // used to force fixed table layout
		padding: .5em;
		margin: 0 auto;
		color: white;
		position: relative;

		// visual bar below each choice
		&:after{
			content: '';
			background-color: white;
			width: 90%;
			margin-left: 5%;
			height: .5em;
			position: absolute;
			bottom: 0;
			display: block;
		}
		
		// visual bar once it's selected
		&.selected{
			&:after{
				background-color: green;
				box-shadow: 0 0 .5em .5em rgba(255, 255, 255, .5);
			}
		}

		.title{
			text-align: center;
			vertical-align: top;
		}
		
		.consequence{
			display: none;
			font-size: .8em;
		}
		
	}
}

.fisherman .arrow, .trajectory{
	position: absolute;
	bottom: 10%;
	// -webkit-perspective: 1000;
	-webkit-backface-visibility: hidden;
}


 // --- CONSEQUENCE ---
#consequence{
	width: 50%;
	left: 25%;
	// top: 25%;
	position: fixed;
	// display: none;
	z-index: 500;
}

#continue_journey_button{
	background: url(#{$url}/fisherman/continue_button.png);
	background-repeat: no-repeat;
	background-size: contain;
	background-position: right bottom;
	position: fixed;
	// bottom: 0;
	right: 0;
	width: 40%;
	height: 100%;
	z-index: 500;
	cursor: pointer;
}



// --- CONTROL ---
#control{
	position: absolute;
	bottom: 0;
	width: 100%;
	height: 100%;
}

#throw_button{
	display: block;
	background: url(#{$url}/fisherman/throw_button.png);
	background-repeat: no-repeat;
	background-size: contain;
	background-position: left bottom;
	position: fixed;
	bottom: 40%;
	left: 0;
	width: 20%;
	height: 100%;
	z-index: 500;
	cursor: pointer;
}

.fisherman .arrow{
	background-image: url(#{$url}/fisherman/fishing_rod.png);
	background-repeat: no-repeat;
	width: 25%;
	height: 20%;
	bottom: -5%;
	background-size: contain;
	display: none;
	z-index: 400;	
}

@-webkit-keyframes swing{
/*	TODO: figure the exact angles to fit in the 25% --- 100% range*/
	0%{ -webkit-transform: rotate(-52deg); }
	100%{ -webkit-transform: rotate(-15deg); }
}

.trajectory{
	width: 100%;
	height: 100%;
	margin-bottom: 19px;
	left: 0;
	z-index: 50;
}



// --- SIMPLE ANIMATIONS VARIABLES ---
// ** Select choice
$sc_freeze: .5s; // PRODUCTION: 4s
$sc_choices_go_down: 2s;
$sc_control_goes_left: 2s;
$sc_delay: -1s;
$sc_show_response: 1s;
$sc_continue_button_delay: .5s; // PRODUCTION: 2s

// ** Continue
$c_delay: 1s;
$c_transition: 3s; // if you change this, change javascript also



// --- SIMPLE ANIMATIONS ---

// ** New screen & Select choice
.choices{
	-webkit-transition: bottom $sc_choices_go_down $sc_freeze;
	bottom: -100%;
	
	&.come{
		-webkit-transition: bottom $sc_control_goes_left ($c_delay + $c_transition);
		bottom: 0;
	}
}

#throw_button{
	-webkit-transition: left $sc_control_goes_left ($c_delay + $c_transition);
	
	&.leave{
		-webkit-transition: left $sc_control_goes_left $sc_freeze;
		left: -100%;
	}	
}

#control{
	-webkit-transition: left $sc_control_goes_left $sc_freeze;
	left: -100%;
	
	&.come{
		-webkit-transition: left $sc_control_goes_left ($c_delay + $c_transition);
		left: 0;
	}
}

.question{
	
	&.leave{
		-webkit-transition: top $sc_control_goes_left $sc_freeze;
		top: -100%;
	}
}

#consequence{
	-webkit-transition: top $sc_show_response 0;
	top: -100%;
	
	&.come{
		-webkit-transition: top $sc_show_response ($sc_freeze + $sc_choices_go_down + $sc_delay);
		top: 15%;
	}
}

#continue_journey_button{
	-webkit-transition: right $sc_show_response 0;
	right: -100%;
	
	&.come{
		right: 0;
		-webkit-transition: right $sc_show_response ($sc_freeze + $sc_choices_go_down + $sc_delay + $sc_choices_go_down + $sc_continue_button_delay);
	}
}

.fisherman .arrow{
	&.swing{
		display: block;
		-webkit-transform-origin: 0 50%;		
		-webkit-animation: swing 1s;
		-webkit-transform: rotate(-20deg); // TODO: REMOVE
		-webkit-animation-iteration-count: infinite;
		-webkit-animation-timing-function: linear;
		-webkit-animation-direction: alternate;
		// -webkit-animation-delay: $c_delay + $c_transition;
		
		&.stop{
			-webkit-animation-play-state: paused;		
		}
	}
}

.screen:first .arrow.first{ // TODO: doesnt look like this is having an effect now
	-webkit-animation-delay: 0;
}

// ** Continue
#setting{
	-webkit-transition: top $c_transition ease-in-out $c_delay;
}

// ** Underwater
#setting.underwater{
	-webkit-transition: top $c_transition ease-in-out ($sc_freeze + $sc_choices_go_down);
}

#q21{
	background-image: url(#{$url}/fisherman/question_2_option_a.png);
	background-size: cover;
}

body.fisherman #character{ // had to keep all the tags for precedence (top is also applied on it before)
	-webkit-transition: top $c_transition ease-in-out 1s;

	&.underwater{
		top: -25%;
		-webkit-transition: top $c_transition ease-in-out ($sc_freeze + $sc_choices_go_down);
	}
}

@import "animations/1-a-reserva";
@import "animations/2-b-bomb";





